<!DOCTYPE HTML>
<htm>
    <head>
        <meta  charset="utf-8" />
        <title>Reform Test</title>
        <style type="text/css">
            .gray {
                background-color: #dedede;
                padding: 20px;
            }
            .reform-field-wrapper {
                padding: 20px;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h1>Reform Test</h1>
            <div id="my-form-wrapper"></div>

        </div>
        <script type="text/javascript" src="lib/jquery-1.8.0.min.js"></script>
        <script type="text/javascript" src="reForm.js"></script>
        <script type="text/javascript">

            MyWidget = (function() {

                function MyWidget(options) {
                  this.options = options;
                  console.log('mywidget constructor');
                }

                MyWidget.prototype.render = function() {
                  var html;
                  html = "<input type='text' class='hit-me' value='click-me'>";
                  var _ref = this;

                  $(function() {
                    return $('.hit-me').click(function() {
                      return alert(_ref.options.msg);
                    });
                  });

                  return html;
                };

                return MyWidget;
            })();

            var my_form = new reForm.Form({
                container_id: 'my-form-wrapper',
                form: {
                    action: 'backend.json'
                },
                fields: [
                    {
                        name: 'title',
                        widget: reForm.CommonWidgets.TextWidget,
                        widget_args: {input_class: 'blaa'},
                        wrapper_class: 'gray',
                    },
                    {
                        name: 'description',
                        label: 'Description',
                        widget: reForm.CommonWidgets.TextareaWidget,
                        widget_args: {value: 'nonoonononononononon'}
                    },
                    {
                        name: 'custom field',
                        widget: MyWidget,
                        widget_args: {msg: 'yabadabadoo!'}
                    }
                ]
            });

            my_form.render();
        </script>
    </body>
</htm>
