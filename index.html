<!DOCTYPE HTML>
<htm>
    <head>
        <meta  charset="utf-8" />
        <title>Reform Test</title>
        <style type="text/css">
            .gray {
                background-color: #dedede;
                padding: 20px;
            }
            .reform-field-wrapper {
                padding: 20px;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h1>Reform Test</h1>
            <div id="my-form-wrapper"></div>

        </div>
        <script type="text/javascript" src="lib/jquery-1.8.0.min.js"></script>
        <script type="text/javascript" src="reForm.js"></script>
        <script type="text/javascript">

            MyWidget = (function() {

                function MyWidget(field) {
                  this.field = field;
                  console.log('mywidget constructor');
                }

                MyWidget.prototype.render = function() {
                  var s;
                  s = "<input type='text' class='hit-me' value='click-me'>";

                  $(function() {
                    return $('.hit-me').click(function() {
                      return alert('HIT');
                    });
                  });

                  return s;
                };

                return MyWidget;
            })();

            var my_form = new ReForm({
                container_id: 'my-form-wrapper',
                form: {
                    action: 'backend.json'
                },
                fields: [
                    {
                        name: 'title',
                        widget: 'text',
                        wrapper_class: 'gray',
                        input_class: 'some-class'
                    },
                    {
                        name: 'description',
                        label: 'Description',
                        widget: 'textarea',
                        value: 'nonoonononononononon'
                    },
                    {
                        name: 'custom field',
                        widget: MyWidget
                    }
                ]
            });

            my_form.render();
        </script>
    </body>
</htm>
